(function(e){function t(t){for(var o,a,c=t[0],s=t[1],l=t[2],u=0,f=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},i={app:0},r=[];function a(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"f621721f"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=i[e]=[t,o]}));t.push(n[2]=o);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=a(e);var l=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}i[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/UploadForm/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"04d18":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="04d18"},1961:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="1961"},"22fc":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="22fc"},2410:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="2410"},"24a8":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="24a8"},"2b70":function(e,t,n){"use strict";n("94ba")},"329f":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b64b"),n("4de4"),n("e439"),n("159b"),n("dbb4"),n("b680"),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n("f5ed");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;c(this,e),s(this,"type",void 0),s(this,"boundRect",void 0),s(this,"updateData",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.data=a(a({},n.data),e);var t=n.data.uuid,o=void 0===t?null:t;o&&(n.currentNode.dataset.uuid=o)})),s(this,"fetchData",(function(){n.updateData({position:n.coordinate()})})),s(this,"frame",(function(){return a({},n.boundRect)})),s(this,"transform",(function(e,t){if(n.options.editable){var o=n.currentNode,i=parseFloat(o.style.height),r=parseFloat(o.style.width),a=parseFloat(o.style.top),c=parseFloat(o.style.left),s=100*t/n.boundRect.height,l=100*e/n.boundRect.width;if(!(a+s<n.options.boundReachPercent||a+s>100-n.options.boundReachPercent)){if(0===n.type){if(i-s<n.options.boundReachPercent)return;o.style.top=(a+s).toFixed(3)+"%",o.style.height=(i-s).toFixed(3)+"%"}else if(1===n.type)o.style.height=(i+s).toFixed(3)+"%";else if(2===n.type){if(l+c<n.options.boundReachPercent||l+c>=r+c)return;o.style.left=(l+c).toFixed(3)+"%",o.style.width=(r-l).toFixed(3)+"%"}else if(3===n.type)o.style.width=(r+l).toFixed(3)+"%";else if(4===n.type){if(i-s<n.options.boundReachPercent)return;if(r-l<n.options.boundReachPercent)return;o.style.top=(a+s).toFixed(3)+"%",o.style.height=(i-s).toFixed(3)+"%",o.style.left=(l+c).toFixed(3)+"%",o.style.width=(r-l).toFixed(3)+"%"}else if(5===n.type){if(r+l<n.options.boundReachPercent)return;if(i-s<n.options.boundReachPercent)return;o.style.top=(a+s).toFixed(3)+"%",o.style.height=(i-s).toFixed(3)+"%",o.style.width=(r+l).toFixed(3)+"%"}else if(6===n.type){if(i+s<n.options.boundReachPercent)return;if(r-l<n.options.boundReachPercent)return;o.style.height=(i+s).toFixed(3)+"%",o.style.left=(l+c).toFixed(3)+"%",o.style.width=(r-l).toFixed(3)+"%"}else if(7===n.type){if(i+s<n.options.boundReachPercent)return;if(r+l<n.options.boundReachPercent)return;o.style.height=(i+s).toFixed(3)+"%",o.style.width=(r+l).toFixed(3)+"%"}else if(-1===n.type){if(s+a<n.options.boundReachPercent||s+a+i>100-n.options.boundReachPercent)return;if(l+c<n.options.boundReachPercent||l+c+r>100-n.options.boundReachPercent)return;o.style.top=(s+a).toFixed(3)+"%",o.style.left=(l+c).toFixed(3)+"%"}n.fetchData()}}})),s(this,"coordinate",(function(){var e=n.currentNode,t={x:e.style.left,y:e.style.top,x1:(parseFloat(e.style.width)+parseFloat(e.style.left)).toFixed(3)+"%",y1:(parseFloat(e.style.height)+parseFloat(e.style.top)).toFixed(3)+"%"};return t})),s(this,"updateTag",(function(e){var t={};return"string"===typeof e&&(t={tag:e,tagName:e}),"object"===i(e)&&(t=a({},e)),n.data=a(a({},n.data),t),t})),this.currentNode=t,this.type=o,this.boundRect=r||{},this.options=l;var u=e.tagTemplate();this.updateData(a({},u)),this.fetchData()};t["default"]=l,s(l,"tagTemplate",(function(e,t,n){var i="".concat((0,o.UUID)(16,16)),r="请选择或添加新标签",a="temp@".concat(i);return{uuid:n||i,tag:t||a,tagName:e||r}})),s(l,"dataTemplate",(function(e,t,n,o,i){return e&&/^.+$/gi.test(e)||(e={tag:"temp@".concat((new Date).getTime())}),a(a({},e),{},{position:{x:t,y:n,x1:o,y1:i}})}))},"330b":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="330b"},"33ed":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="33ed"},"35cd":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="35cd"},"361e":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="361e"},"39cf":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="39cf"},"3a1b":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="3a1b"},"3f12":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="3f12"},"3f5a":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="3f5a"},"413a":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="413a"},4770:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="4770"},"4d0c":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="4d0c"},"543a":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="543a"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");Object(o["pushScopeId"])("data-v-fcf36230");var i={class:"table"},r=Object(o["createTextVNode"])("ADD"),a=Object(o["createTextVNode"])("DELETE"),c={class:"upload",style:{width:"60%"}},s=Object(o["createTextVNode"])("Initialization"),l={class:"table"},u=Object(o["createTextVNode"])("upload img"),d=Object(o["createTextVNode"])("ADD"),f=Object(o["createTextVNode"])("DELETE"),h=Object(o["createTextVNode"])("Rephrase"),p={class:"upload"},v=Object(o["createTextVNode"])("Upload"),b=Object(o["createTextVNode"])("Save Images"),g=Object(o["createTextVNode"])("Upload Original Info"),m={class:"upload"},O=Object(o["createTextVNode"])("Unfold json");function y(e,t,n,y,w,_){var E=Object(o["resolveComponent"])("el-input"),T=Object(o["resolveComponent"])("el-table-column"),x=Object(o["resolveComponent"])("el-button"),j=Object(o["resolveComponent"])("el-table"),N=Object(o["resolveComponent"])("el-option"),S=Object(o["resolveComponent"])("el-select"),D=Object(o["resolveComponent"])("el-upload");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(j,{data:w.videoID_list,class:"tb-edit",style:{width:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,{label:"VideoID",width:"200",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(E,{modelValue:w.videoID_list[e.$index],"onUpdate:modelValue":function(t){return w.videoID_list[e.$index]=t},placeholder:"videoID input"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(o["createVNode"])(T,{label:"SegInfo",width:"400",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(E,{modelValue:w.SegInfo_list[e.$index],"onUpdate:modelValue":function(t){return w.SegInfo_list[e.$index]=t},placeholder:"Please end with ;"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(o["createVNode"])(T,{label:"Operation",align:"center",width:"180"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(x,{size:"mini",onClick:function(t){return _.AddVideo(e.$index,e.row)}},{default:Object(o["withCtx"])((function(){return[r]})),_:2},1032,["onClick"]),Object(o["createVNode"])(x,{size:"mini",type:"danger",onClick:function(t){return _.DeleteVideo(e.$index,e.row)}},{default:Object(o["withCtx"])((function(){return[a]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]),Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(x,{onClick:_.generateSeg},{default:Object(o["withCtx"])((function(){return[s]})),_:1},8,["onClick"])]),Object(o["createElementVNode"])("div",l,[Object(o["createVNode"])(j,{data:w.tableData,class:"tb-edit",style:{width:"100%"}},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(w.tableHead1,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:t,label:e.label,property:e.property,width:"600",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(E,{modelValue:e.row[e.column.property],"onUpdate:modelValue":function(t){return e.row[e.column.property]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label","property"])})),128)),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(w.videoUrl_list,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:t,label:e,width:"200",align:"center"},{default:Object(o["withCtx"])((function(t){return[Object(o["createVNode"])(E,{modelValue:w.timeValue_multiVideo[t.$index][e],"onUpdate:modelValue":function(n){return w.timeValue_multiVideo[t.$index][e]=n},placeholder:"Please end with ;"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label"])})),128)),Object(o["createVNode"])(T,{label:w.MetaTypeTitle,width:"120",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(S,{modelValue:w.TypeValue[e.$index],"onUpdate:modelValue":function(t){return w.TypeValue[e.$index]=t},placeholder:"Select MetaType",onChange:function(t){return _.changeMetaType(t,e.$index)}},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(w.MetaType,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:1},8,["label"]),Object(o["createVNode"])(T,{label:"ImgUpload",width:"150",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(D,{action:"",accept:"image/jpeg,image/png","on-remove":_.removeImg,"on-change":_.onUploadChange,"auto-upload":!1,"show-file-list":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{size:"small",type:"primary",onClick:function(t){return _.setrow(e.$index)}},{default:Object(o["withCtx"])((function(){return[u]})),_:2},1032,["onClick"])]})),_:2},1032,["on-remove","on-change"])]})),_:1}),Object(o["createVNode"])(T,{label:"Operation",align:"center",width:"270"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(x,{size:"mini",onClick:function(t){return _.handleEdit(e.$index,e.row)}},{default:Object(o["withCtx"])((function(){return[d]})),_:2},1032,["onClick"]),Object(o["createVNode"])(x,{size:"mini",type:"danger",onClick:function(t){return _.handleDelete(e.$index,e.row)}},{default:Object(o["withCtx"])((function(){return[f]})),_:2},1032,["onClick"]),Object(o["createVNode"])(x,{size:"mini",onClick:function(t){return _.Rephrase(e.$index,e.row)}},{default:Object(o["withCtx"])((function(){return[h]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]),Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(x,{onClick:_.upload},{default:Object(o["withCtx"])((function(){return[v]})),_:1},8,["onClick"]),Object(o["createVNode"])(x,{onClick:_.uploadImg},{default:Object(o["withCtx"])((function(){return[b]})),_:1},8,["onClick"]),Object(o["createVNode"])(x,{onClick:_.uploadOriginalInfo},{default:Object(o["withCtx"])((function(){return[g]})),_:1},8,["onClick"])]),Object(o["createElementVNode"])("div",m,[Object(o["createVNode"])(D,{action:"","on-remove":_.JsonRemove,"on-change":_.JsonChange,"auto-upload":!1,"show-file-list":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{onClick:t[0]||(t[0]=function(e){return _.jsonunfold()})},{default:Object(o["withCtx"])((function(){return[O]})),_:1})]})),_:1},8,["on-remove","on-change"])])])}Object(o["popScopeId"])();var w=n("3835"),_=n("1da1"),E=(n("96cf"),n("a434"),n("ac1f"),n("466d"),n("d3b7"),n("25f0"),n("b0c0"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("7437"),n("1250")),T=n("b3d7"),x=n("e0ec"),j=n("c4e3"),N={components:{ElementPlus:E["a"],FileSaver:x,JSZip:j,"ui-marker":T["AIMarker"]},data:function(){return{count_col:0,showMenu:!1,curColumn:null,tableHead:[{label:"Question",property:"Question"},{label:"Reason",property:"Reason"}],tableHead1:[{label:"Question",property:"Question"}],videoID_list:["-t4N79R9Qo4"],SegInfo_list:[],tableData:[{Question:"What is...",Reason:"Reason1"},{Question:"How is...",Reason:"Reason2"}],timeHead:{label:"Start-End",property:"Start-End"},timeValue:[[],[]],timeValue_multiVideo:[{},{}],MetaType:[{value:"Text Only",label:"Text Only"},{value:"Video Only",label:"Video Only"},{value:"Text and Video",label:"Text and Video"}],MetaTypeTitle:"Query Type",TypeValue:["",""],SegInfo:[],SegNum:[],Segments:[],SegValue:[[],[]],SegmentTitle:"Segment",SegTimeValue:[],SegTimeValue_list:{},progressLength:710,videoUrl:[],videoUrl_list:{},currentRow:[],imgList:[[],[]],img_base64:[],img_file:[],storePath:"/imgStore",bboxList:[[],[]],bbox_base64:[],bbox_file:[],fileName:[],Rephrase_list:[!1,!1]}},computed:{player:function(){return this.$refs.videoPlayer.player},setProgressBgStyle:function(){return{width:"".concat(this.width+this.sliderWidth,"px")}},setProgressStyle:function(){return{width:"".concat(this.progressWidth,"px")}}},methods:{JsonChange:function(e,t){var n=this;console.log(e.raw);var o=this,i=new FileReader;i.onload=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=JSON.parse(t.target.result),console.log(i),o.videoID_list.splice(o.videoID_list.length,1,i[0]["videoID"]),o.videoUrl_list[i[0]["videoID"]]=i[0]["videoID"],o.SegInfo=i[1]["segInfo"],o.SegInfo_list.splice(o.SegInfo_list.length,1,o.SegInfo),o.SegTimeValue_list[i[0]["videoID"]]=o.timeProcess(i[1]["segInfo"]),r=2;r<i.length;r++)r>=4&&n.handleEdit(r-2),o.tableData[r-2].Question=i[r]["Question"],o.tableData[r-2].Reason=i[r]["Reason"],o.TypeValue[r-2]=i[r]["QueryType"],o.timeValue_multiVideo[r-2][i[0]["videoID"]]=i[r]["Start_EndTime"];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();i.readAsText(e.raw)},jsonunfold:function(){},JsonRemove:function(){},generateSeg:function(){for(var e=0;e<this.videoID_list.length;e++){if(this.videoUrl=this.videoID_list[e],this.SegInfo=this.SegInfo_list[e],!this.checkURL(this.videoUrl)||!this.checkSegInput(this.SegInfo))break;this.Segments=[];var t=0,n=0,o=0;while(1){if(t=this.SegInfo.indexOf(";",t),t<0)break;n++,t+=1}t=0;while(1){if(t=this.SegInfo.indexOf("-",t),t<0)break;o++,t++}if(o==n&&this.SegInfo.indexOf(" ")<0){for(t=1;t<=n;t++)this.Segments.push("Seg"+t);this.SegTimeValue=this.timeProcess(this.SegInfo)}this.videoUrl_list[this.videoUrl]=this.videoUrl,this.SegTimeValue_list[this.videoUrl]=this.SegTimeValue,this.timeValue_multiVideo[0].hasOwnProperty(this.videoUrl)||(this.timeValue_multiVideo[0][this.videoUrl]=""),this.timeValue_multiVideo[0].hasOwnProperty(this.videoUrl)||(this.timeValue_multiVideo[1][this.videoUrl]="")}var i="";for(var r in this.videoUrl_list)i=i+r+"_";i=i.substring(0,i.length-1),this.fileName=i},checkURL:function(e){return 11!=e.length?(alert("Invalid videoURL!"),0):1},checkSegInput:function(e){var t=1;e.indexOf(" ")>0&&(alert("Space in input!Please delete all spaces"),t=0);var n=e.indexOf("-"),o=e.indexOf(";");while(o>0&o<e.length-1){var i=e.substring(n+1,o),r=e.substring(o+1,o+1+i.length);i!=r&&(alert("Interval between segments!"),t=0),n=e.indexOf("-",n+1),o=e.indexOf(";",o+1)}return t},AddVideo:function(e,t){this.videoID_list.splice(e+1,0,{videoID:""}),this.SegInfo_list.splice(e+1,0,{seginfo:""})},DeleteVideo:function(e,t){this.videoID_list.splice(e,1),this.SegInfo_list.splice(e,1)},handleEdit:function(e,t){for(var n in this.tableData.splice(e+1,0,{Question:"",Reason:""}),this.TypeValue.splice(e+1,0,""),this.SegValue.splice(e+1,0,[]),this.imgList.splice(e+1,0,[]),this.bboxList.splice(e+1,0,[]),this.timeValue_multiVideo.splice(e+1,0,{}),this.videoUrl_list)this.timeValue_multiVideo[this.timeValue_multiVideo.length-1][n]="";console.log(this.timeValue_multiVideo),this.Rephrase_list.splice(e+1,0,!1)},handleDelete:function(e,t){this.tableData.splice(e,1),this.TypeValue.splice(e,1),this.SegValue.splice(e,1),this.imgList.splice(e,1),this.timeValue_multiVideo.splice(e,1),this.bboxList.splice(e,1),this.Rephrase_list.splice(e,1)},Rephrase:function(e,t){this.tableData.splice(e+1,0,{Question:"",Reason:""}),this.TypeValue.splice(e+1,0,this.TypeValue[e]),this.SegValue.splice(e+1,0,this.SegValue[e]),this.imgList.splice(e+1,0,this.imgList[e]),this.bboxList.splice(e+1,0,this.bboxList[e]),this.timeValue_multiVideo.splice(e+1,0,this.timeValue_multiVideo[e]),this.Rephrase_list.splice(e+1,0,!0)},changeMetaType:function(e,t){this.TypeValue[t]=e},changeSegValue:function(e,t,n){if(e){for(var o=this.SegValue[t],i=0,r=parseInt(n.substring(3)),a=0;a<o.length;a++)if(o[a]===r){i=1;break}0==i&&this.SegValue[t].push(parseInt(n.substring(3)))}else{for(o=this.SegValue[t],r=parseInt(n.substring(3)),a=0;a<o.length;a++)if(o[a]===r)break;this.SegValue[t].splice(a,1)}},ShowIntroduction:function(){this.Introduction=!this.Introduction},upload:function(){var e,t,n,o,i,r,a=[],c=[],s=[],l="",u=this.rephrase_q_img_match(this.Rephrase_list);for(var d in console.log(this.Rephrase_list),console.log(u),this.videoUrl_list)c.splice(c.length,1,this.videoUrl_list[d]),l=l+d+"_";l=l.substring(0,l.length-1),this.fileName=l,a.push({videoID:c}),c=[],a.push({segInfo:this.SegTimeValue_list});for(var f=0;f<this.tableData.length;f++){n=this.tableData[f].Question,"?"==n[n.length-1]?r=1:(r=0,alert("Invalid Question in Q"+(f+1))),e=n.indexOf("<"),t=n.indexOf(">"),i=0,o=[];var h,p,v,b=0;while(e>=0){if(c=n.substring(e+1,t),i++,c.match("bbox")){var g=c.match("bbox");g=g["index"];var m=c.substring(g,g+5);"/"==m[m.length-1]&&(m=m.substring(0,m.length-1)),g=c.indexOf("/"),-1==g&&alert("lack of / in Q"+f);var O=c.substring(g+1,t);n=n.substring(0,e+1)+m+"/"+O+n.substring(t),0==b&&(o=this.fileName+"_bbox_Q"+f+".jpg",b++)}else{g=c.indexOf("/"),-1==g&&alert("lack of / in Q"+f);O=c.substring(g+1,t);n=n.substring(0,e+1)+O+n.substring(t),0==b&&(o=this.fileName+"_img_Q"+f+".jpg",b++)}e=0,t=0;for(var y=0;y<=i;y++)e=n.indexOf("<",e),t=n.indexOf(">",t),e++,t++;e--,t--}for(var d in this.timeValue=this.timeValue_multiVideo[f],c={},this.timeValue)if(this.timeValue[d].length>0){var _=this.obtainStartEndTime(this.timeValue[d]),E=Object(w["a"])(_,2);if(h=E[0],p=E[1],v=this.generateSegvalue(h,d),c[d]=v,1==p)break}if(v=c,c=[],1==p){s.push(1);break}s.push(0),o=o.substring(0,o.length-5)+String(u[f])+".jpg",a.push({ID:this.fileName+"_Q"+f,Question:n,QueryType:this.TypeValue[f],Segment:v,Filename:o,Start_EndTime:h})}var T=0;for(f=0;f<s.length;f++)T+=s[f];if(console.log(a),0==T&&1==r){var j=JSON.stringify(a),N=new Blob([j],{type:""});x.saveAs(N,this.fileName+".json")}},generateSegvalue:function(e,t){var n,o,i=[];this.SegTimeValue=this.SegTimeValue_list[t];for(var r=0;r<e.length;r++){n=e[r];for(var a=0;a<this.SegTimeValue.length;a++)(this.SegTimeValue[a][0]>=n[0]&&this.SegTimeValue[a][1]<=n[1]||this.SegTimeValue[a][0]<n[1]&&this.SegTimeValue[a][1]>n[1]||this.SegTimeValue[a][0]<n[0]&&this.SegTimeValue[a][1]>n[0])&&i.indexOf(o)<0&&i.push(a+1)}return i},rephrase_q_img_match:function(e){for(var t=[],n=-1,o=0;o<e.length;o++)e[o]||(n+=1),t.splice(o,0,n);return t},obtainStartEndTime:function(e){var t=0;return e.indexOf(" ")>=0&&(alert("Space in start-end!Please delete all spaces"),t=1),";"!=e[e.length-1]&&(alert("start-end time must end with ;"),t=1),-1==e.indexOf("-")&&(alert("no '-' in start-end time"),t=1),[this.timeProcess(e),t]},timeProcess:function(e){var t,n,o,i=0,r=e.indexOf(";"),a=[];while(r>0)t=e.indexOf("-",i),n=e.substring(i,t),o=e.substring(t+1,r),n=n.indexOf(":")>0?60*parseInt(n.substring(0,n.indexOf(":")))+parseInt(n.substring(n.indexOf(":")+1)):n.indexOf(".")>0?60*parseInt(n.substring(0,n.indexOf(".")))+parseInt(n.substring(n.indexOf(".")+1)):60*parseInt(n.substring(0,2))+parseInt(n.substring(2)),o=o.indexOf(":")>0?60*parseInt(o.substring(0,o.indexOf(":")))+parseInt(o.substring(o.indexOf(":")+1)):o.indexOf(".")>0?60*parseInt(o.substring(0,o.indexOf(".")))+parseInt(o.substring(o.indexOf(".")+1)):60*parseInt(o.substring(0,2))+parseInt(o.substring(2)),a.push([n,o]),i=r+1,r=e.indexOf(";",r+1);return a},timeprocess_inverse:function(e){for(var t,n,o="",i=0;i<e.length;i++){var r=e[i];t=Math.floor(r[0]/60),n=Math.floor(r[0]%60),o=o+t.toString()+":"+n.toString()+"-",t=Math.floor(r[1]/60),n=Math.floor(r[1]%60),o=o+t.toString()+":"+n.toString()+";"}return o},setrow:function(e){this.currentRow=e},setrow1:function(e){this.currentRow=e},addlist:function(e,t){t.length;this.imgList[this.currentRow].push({originalName:e.name,fileName:this.videoUrl+"_Q"+this.currentRow.toString(),base64Data:this.img_base64})},onUploadChange:function(e,t){var n="image/jpeg"===e.raw.type||"image/png"===e.raw.type,o=e.size/1024/1024<10;if(!n)return this.$message.error("只能上传jpg/png图片!"),!1;if(!o)return this.$message.error("上传文件大小不能超过 2MB!"),!1;this.img_file=e;var i=new FileReader,r=this;i.onloadend=function(e){r.img_base64=i.result,r.imgList[r.currentRow].push({originalName:r.img_file.name,fileName:r.videoUrl+"_img_Q"+r.currentRow.toString(),base64Data:r.img_base64})},i.readAsDataURL(e.raw)},removeImg:function(e,t){for(var n=this.imgList[this.currentRow],o=0;o<n.length;o++)if(n[o].originalName===e.name){this.imgList[this.currentRow].splice(o,1);break}},downloadFile:function(e,t){document.createElement("a"),this.base64ToBlob(t)},base64ToBlob:function(e){for(var t=e.split(":")[1],n=window.atob(e),o=n.length,i=new Uint8Array(o),r=0;r<o;++r)i[r]=n.charCodeAt(r);return new Blob([i],{type:t})},uploadImg:function(){for(var e,t,n=new j,o=this.fileName+".zip",i=this.rephrase_q_img_match(this.Rephrase_list),r=0;r<this.imgList.length;r++){t=this.tableData[r].Question;for(var a=0;a<this.imgList[r].length;a++)e=this.imgList[r][a].base64Data,e=e.substring(e.indexOf(",")+1),a+1,t.indexOf("bbox/")<0?this.imgList[r][a].fileName=this.fileName+"_Q"+r.toString():this.imgList[r][a].fileName=this.fileName+"_bbox_Q"+r.toString(),this.imgList[r][a].fileName=this.imgList[r][a].fileName.substring(0,this.imgList[r][a].fileName.length-1)+String(i[r]),this.Rephrase_list[r]||n.file(this.imgList[r][a].fileName+".jpg",e,{base64:!0})}n.generateAsync({type:"blob"}).then((function(e){saveAs(e,o)}))},uploadOriginalInfo:function(){var e=[],t="";for(var n in this.videoUrl_list)t=t+n+"_";t=t.substring(0,t.length-1),this.filename=t,e.push({videoID:this.videoID_list}),e.push({segInfo:this.SegInfo_list});for(var o=0;o<this.tableData.length;o++)e.push({ID:this.fileName+"_Q"+o,Question:this.tableData[o].Question,QueryType:this.TypeValue[o],Start_EndTime:this.timeValue_multiVideo[o]});console.log(e);var i=JSON.stringify(e),r=new Blob([i],{type:""});x.saveAs(r,this.fileName+"_original.json")}}};n("ac6e"),n("8f95"),n("2b70"),n("cf8b");N.render=y,N.__scopeId="data-v-fcf36230";var S=N,D=(n("3ca3"),n("ddb0"),n("6c02")),C=n("cf05"),V=n.n(C),M={class:"home"},k=Object(o["createElementVNode"])("img",{alt:"Vue logo",src:V.a},null,-1);function U(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("HelloWorld");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[k,Object(o["createVNode"])(c,{msg:"Welcome to Your Vue.js App"})])}Object(o["pushScopeId"])("data-v-500f67cc");var I={class:"hello"},R=Object(o["createStaticVNode"])('<p data-v-500f67cc> For a guide and recipes on how to configure / customize this project,<br data-v-500f67cc> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>vue-cli documentation</a>. </p><h3 data-v-500f67cc>Installed CLI Plugins</h3><ul data-v-500f67cc><li data-v-500f67cc><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener" data-v-500f67cc>babel</a></li><li data-v-500f67cc><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router" target="_blank" rel="noopener" data-v-500f67cc>router</a></li><li data-v-500f67cc><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex" target="_blank" rel="noopener" data-v-500f67cc>vuex</a></li></ul><h3 data-v-500f67cc>Essential Links</h3><ul data-v-500f67cc><li data-v-500f67cc><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>Core Docs</a></li><li data-v-500f67cc><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>Forum</a></li><li data-v-500f67cc><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>Community Chat</a></li><li data-v-500f67cc><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-500f67cc>Twitter</a></li><li data-v-500f67cc><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>News</a></li></ul><h3 data-v-500f67cc>Ecosystem</h3><ul data-v-500f67cc><li data-v-500f67cc><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>vue-router</a></li><li data-v-500f67cc><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>vuex</a></li><li data-v-500f67cc><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-500f67cc>vue-devtools</a></li><li data-v-500f67cc><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-500f67cc>vue-loader</a></li><li data-v-500f67cc><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-500f67cc>awesome-vue</a></li></ul>',7);function F(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",I,[Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])(n.msg),1),R])}Object(o["popScopeId"])();var L={name:"HelloWorld",props:{msg:String}};n("8a42");L.render=F,L.__scopeId="data-v-500f67cc";var P=L,A={name:"Home",components:{HelloWorld:P}};A.render=U;var B=A,W=[{path:"/",name:"Home",component:B},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],Q=Object(D["a"])({history:Object(D["b"])(),routes:W}),H=Q,X=n("5502"),q=Object(X["a"])({state:{},mutations:{},actions:{},modules:{}}),$=Object(o["createApp"])(S);$.use(q).use(E["a"]).use(H).use(T["AIMarker"]).mount("#app")},"56de":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="56de"},5886:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b64b"),n("4de4"),n("e439"),n("159b"),n("dbb4"),n("10d1"),n("b680"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"UUID",{enumerable:!0,get:function(){return o.UUID}}),Object.defineProperty(t,"positionP2S",{enumerable:!0,get:function(){return o.positionP2S}}),Object.defineProperty(t,"transformDataArray",{enumerable:!0,get:function(){return o.transformDataArray}}),Object.defineProperty(t,"ResizeAnnotation",{enumerable:!0,get:function(){return i["default"]}}),t["default"]=t.BdAIMarker=void 0,n("f321");var o=n("f5ed"),i=a(n("efb8")),r=a(n("329f"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n){h(e,t),t.set(e,n)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t){var n=g(e,t,"get");return v(e,n)}function v(e,t){return t.get?t.get.call(e):t.value}function b(e,t,n){var o=g(e,t,"set");return m(e,o,n),n}function g(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function m(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var O=new WeakMap,y=new WeakMap,w=new WeakMap,_=new WeakMap,E=new WeakMap,T=new WeakMap,x=new WeakMap,j=new WeakMap,N=new WeakMap,S=new WeakMap,D=new WeakMap,C=new WeakMap,V=new WeakMap,M=new WeakMap,k=function e(t,n,a){var s=this,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(u(this,e),f(this,O,{writable:!0,value:!1}),f(this,y,{writable:!0,value:void 0}),f(this,w,{writable:!0,value:void 0}),f(this,_,{writable:!0,value:void 0}),f(this,E,{writable:!0,value:void 0}),f(this,T,{writable:!0,value:void 0}),f(this,x,{writable:!0,value:void 0}),f(this,j,{writable:!0,value:void 0}),f(this,N,{writable:!0,value:function(e){b(s,O,e)}}),d(this,"setConfigOptions",(function(e){s.options=l(l({},s.options),e.options),p(s,x)&&p(s,x).setConfigOptions(e)})),f(this,S,{writable:!0,value:function(){var e=s.boundRect();return"undefined"!=typeof e.x?e:{x:e.left,y:e.top,left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}}),f(this,D,{writable:!0,value:function(e,t,n){if(s.options.editable){var i=e.type,a=p(s,S).call(s);if(t&&b(s,y,t-a.x),n&&b(s,w,n-a.y),i===o.MOUSE_EVENT[6])return b(s,O,!1),b(s,T,!1),void p(s,x).dispatchEventToAnno(e);if(p(s,O))p(s,x).dispatchEventToAnno(e);else if(i===o.MOUSE_EVENT[0]||i===o.TOUCH_EVENT[0]){if(e.target.classList.contains(s.options.annotationClass)||e.target.classList.contains("".concat(o.PREFIX_RESIZE_DOT)))return b(s,O,!0),void p(s,x).dispatchEventToAnno(e);if(p(s,T))return void p(s,M).call(s,p(s,y),p(s,w));b(s,j,r["default"].tagTemplate()),p(s,x).removeSelectedAnnotation(),b(s,T,!0),b(s,_,p(s,y)),b(s,E,p(s,w)),s.resetDraft(),p(s,C).call(s,p(s,_),p(s,E))}else i===o.MOUSE_EVENT[1]||i===o.TOUCH_EVENT[1]?p(s,T)&&p(s,M).call(s,p(s,y),p(s,w)):i===o.MOUSE_EVENT[4]||i===o.TOUCH_EVENT[2]||i===o.TOUCH_EVENT[4]?(p(s,T)&&p(s,x)&&(p(s,x).drawAnnotation(s.draftRect,p(s,j)),s.resetDraft()),b(s,T,!1)):p(s,T)&&p(s,V).call(s,p(s,y),p(s,w))&&(p(s,x)&&(p(s,x).drawAnnotation(s.draftRect,p(s,j)),s.resetDraft()),b(s,T,!1))}}}),f(this,C,{writable:!0,value:function(e,t){if(s.options.editable){var n=p(s,S).call(s);s.draft.style.display="",p(s,y)<e?(s.draft.style.right=100*Math.abs(n.width-e)/n.width+"%",s.draft.style.left="",s.draftRect=Object.assign(s.draftRect,{x:(100*Math.abs(p(s,y))/n.width).toFixed(3)+"%"})):(s.draft.style.left=(100*Math.abs(e)/n.width).toFixed(3)+"%",s.draft.style.right="",s.draftRect=Object.assign(s.draftRect,{x:(100*Math.abs(e)/n.width).toFixed(3)+"%"})),p(s,w)<t?(s.draft.style.bottom=(100*Math.abs(n.height-t)/n.height).toFixed(3)+"%",s.draft.style.top="",s.draftRect=Object.assign(s.draftRect,{y:(100*Math.abs(p(s,w))/n.height).toFixed(3)+"%"})):(s.draft.style.top=(100*Math.abs(t)/n.height).toFixed(3)+"%",s.draft.style.bottom="",s.draftRect=Object.assign(s.draftRect,{y:(100*Math.abs(t)/n.height).toFixed(3)+"%"}))}}}),f(this,V,{writable:!0,value:function(e,t){return e>=p(s,S).call(s).width||t>=p(s,S).call(s).height||e<1||t<1}}),d(this,"resetDraft",(function(){s.draftRect={x:-1,y:-1,width:0,height:0},s.draft.style.width="0%",s.draft.style.height="0%"})),d(this,"clearAll",(function(){var e=s.layer.querySelectorAll(".".concat(s.options.annotationClass));e.forEach((function(e){var t;"function"===typeof e.remove?e.remove():null===(t=e.parentNode)||void 0===t||t.removeChild(e)})),s.renderData(void 0)})),f(this,M,{writable:!0,value:function(e,t){if(s.options.editable){p(s,V).call(s,e,t)&&b(s,T,!1),p(s,C).call(s,p(s,_),p(s,E));var n=(100*Math.abs(e-p(s,_))/p(s,S).call(s).width).toFixed(3),o=(100*Math.abs(t-p(s,E))/p(s,S).call(s).height).toFixed(3);s.draftRect=Object.assign(s.draftRect,{width:n+"%",height:o+"%"}),s.draft.style.width=s.draftRect.width,s.draft.style.height=s.draftRect.height}}}),d(this,"renderData",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=p(s,x);n&&n.renderData(e,t)})),d(this,"setTag",(function(e){p(s,x)&&e&&p(s,x).setTagForCurrentMovement(e)})),d(this,"selectMarkerByTagId",(function(e){e&&p(s,x).selectMarkerByTagId(e)})),d(this,"dataSource",(function(){if(p(s,x))return p(s,x).dataSource()})),d(this,"dataForTag",(function(e,t){return p(s,x).dataSourceOfTag(e,t)})),d(this,"getAnnotation",(function(){return p(s,x)})),"object"!==c(h))throw new Error("Please provide a callback Config for BdAIMarker");if(this.options=l(l({},o.defaultConfig.options),h.options),t){this.layer=t,this.draft=n,b(this,T,!1),this.draftRect={},b(this,_,-1),b(this,E,-1),this.boundRect=function(){return t.getBoundingClientRect()},b(this,x,a||new i["default"](n.parentNode,p(this,S),h,p(this,N)));var v=this;"both"!=this.options.deviceType&&"mouse"!=this.options.deviceType||o.MOUSE_EVENT.forEach((function(e,n,o){t.addEventListener(e,(function(e){if("touch"!=s.options.deviceType){var t=e.clientX,n=e.clientY;p(v,D).call(v,e,t,n)}}),!0)})),"both"!=this.options.deviceType&&"touch"!=this.options.deviceType||o.TOUCH_EVENT.forEach((function(e,n,o){t.addEventListener(e,(function(e){if("mouse"!=s.options.deviceType&&e.targetTouches){var t=e.targetTouches[0],n=t?t.clientX:void 0,o=t?t.clientY:void 0;p(v,D).call(v,e,n,o)}}),!0)}))}};t.BdAIMarker=k,k.prototype.util={UUID:o.UUID,positionP2S:o.positionP2S,transformDataArray:o.transformDataArray};var U=k;t["default"]=U},"5a25":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="5a25"},"605b":function(e,t,n){},6835:function(e,t,n){},"6d70":function(e,t,n){},"6e20":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="6e20"},"72a5":function(e,t,n){},"74ce":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="74ce"},"87aa":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="87aa"},8936:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="8936"},"8a42":function(e,t,n){"use strict";n("6d70")},"8f95":function(e,t,n){"use strict";n("72a5")},"94ba":function(e,t,n){},"959b":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="959b"},"9c0f":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="9c0f"},"9d13":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="9d13"},a192:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="a192"},ac6e:function(e,t,n){"use strict";n("6835")},ae76:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="ae76"},b3d7:function(e,t,n){e.exports=n("5886")},c477:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="c477"},c543:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="c543"},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},cf8b:function(e,t,n){"use strict";n("605b")},e0ec:function(e,t,n){(function(o){var i,r,a,c=n("7037").default;n("b0c0"),n("ac1f"),n("5319"),function(n,o){r=[],i=o,a="function"===typeof i?i.apply(t,r):i,void 0===a||(e.exports=a)}(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=c(t)&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){l(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==("undefined"===typeof window?"undefined":c(window))&&window.window===window?window:"object"==("undefined"===typeof self?"undefined":c(self))&&self.self===self?self:"object"==("undefined"===typeof o?"undefined":c(o))&&o.global===o?o:void 0,s=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=("undefined"===typeof window?"undefined":c(window))||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,o){var c=a.URL||a.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?r(s):i(s.href)?n(e,t,o):r(s,s.target="_blank")):(s.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(s.href)}),4e4),setTimeout((function(){r(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,a){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),o);else if(i(e))n(e,o,a);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){r(c)}))}}:function(e,t,o,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,o);var r="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&c||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,f=d.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l}))}).call(this,n("c8ba"))},ea8b:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="ea8b"},efb8:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b64b"),n("4de4"),n("e439"),n("159b"),n("dbb4"),n("10d1"),n("8a79"),n("b680"),n("b0c0"),n("a434"),n("99af"),n("7db0"),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,n("f321");var o=n("f5ed"),i=r(n("329f"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){f(e,t),t.set(e,n)}function f(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t){var n=b(e,t,"get");return p(e,n)}function p(e,t){return t.get?t.get.call(e):t.value}function v(e,t,n){var o=b(e,t,"set");return g(e,o,n),n}function b(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function g(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var m=new WeakMap,O=new WeakMap,y=new WeakMap,w=new WeakMap,_=new WeakMap,E=new WeakMap,T=new WeakMap,x=new WeakMap,j=new WeakMap,N=new WeakMap,S=new WeakMap,D=function e(t,n){var r=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.defaultConfig,f=arguments.length>3?arguments[3]:void 0;l(this,e),d(this,m,{writable:!0,value:void 0}),d(this,O,{writable:!0,value:void 0}),d(this,y,{writable:!0,value:void 0}),d(this,w,{writable:!0,value:void 0}),d(this,_,{writable:!0,value:void 0}),d(this,E,{writable:!0,value:void 0}),d(this,T,{writable:!0,value:void 0}),d(this,x,{writable:!0,value:function(){r.options.supportDelKey&&r.options.closable?document.addEventListener("keydown",r.delEvent):document.removeEventListener("keydown",r.delEvent)}}),d(this,j,{writable:!0,value:function(){if(r.annotationContainer)for(var e=r.annotationContainer.querySelectorAll(".".concat(o.imageOpContent)),t=0;t<e.length;t++){var n=e[t];r.options.showTags?n.style.visibility="visible":n.style.visibility="collapse",r.options.tagLocation==o.defaultPositions.out_bottom?(n.style.position="absolute",n.style.bottom=null):n.style.position=null;var i=n.querySelector(".g-image-op-del");if(i&&(r.options.closable?i.style.display="":i.style.display="none"),r.options.textComponent){var a=r.options.textComponent.apply(null,[n]);if(!a)break;if(!(a instanceof Element))throw new Error("closeComponent not a Element");if(n.hasChildNodes()){for(var c=n.childNodes,s=c.length-1;s>-1;s--){var l=c[s];l&&n.removeChild(l)}n.appendChild(a)}}}r.currentMovement&&!r.options.editable&&r.currentMovement.currentNode.querySelectorAll("[class*=".concat(o.PREFIX_RESIZE_DOT,"]")).forEach((function(e){e.classList.contains(o.dotCls[8])?e.classList.remove("hidden"):e.classList.add("hidden")}))}}),u(this,"setConfigOptions",(function(e){r.options=s(s({},r.options),e.options),r.config=s(s({},r.config),e),h(r,x).call(r),h(r,j).call(r)})),u(this,"dataTemplate",(function(){return i["default"].dataTemplate.apply(i["default"],arguments)})),u(this,"reset",(function(){r.data=[],r.config.onUpdated([])})),u(this,"isValid",(function(e){if(!e)return!1;var t=[];return/^\d*(\.\d+)?%$/.test(e.width)?t.push(!0):parseFloat(e.width)<1&&t.push(!1),/^\d*(\.\d+)?%$/.test(e.height)?t.push(!0):parseFloat(e.height)<1&&t.push(!1),t.filter(Boolean).length==t.length})),u(this,"renderData",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:h(r,m).call(r).width,height:h(r,m).call(r).height};e instanceof Array&&e.length>0?e.forEach((function(e,n,o){var i;i=e.position.x.endsWith("%")?{x:e.position.x,y:e.position.y,width:parseFloat(e.position.x1)-parseFloat(e.position.x)+"%",height:parseFloat(e.position.y1)-parseFloat(e.position.y)+"%"}:{x:(100*e.position.x/t.width).toFixed(3)+"%",y:(100*e.position.y/t.height).toFixed(3)+"%",width:(100*(e.position.x1-e.position.x)/t.width).toFixed(3)+"%",height:(100*(e.position.y1-e.position.y)/t.height).toFixed(3)+"%"},r.drawAnnotation(i,e)})):r.reset(),r.config.onAnnoDataFullLoaded()})),u(this,"dataSource",(function(){return r.data})),u(this,"dataSourceOfTag",(function(e){for(var t=0;t<r.data.length;t++){var n=r.data[t];if(n.tag===e&&n.uuid==uuid)return n}})),u(this,"dataSourceOfUUID",(function(e){for(var t=0;t<r.data.length;t++){var n=r.data[t];if(n.uuid==e)return n}})),u(this,"setTagForCurrentMovement",(function(e){if(r.currentMovement){var t=r.currentMovement.currentNode,n=r.currentMovement.updateTag(e),i=t.querySelector(".".concat(o.imageOpTag)).dataset.id;for(var a in n)t.querySelector(".".concat(o.imageOpTag)).dataset[a]=n[a];var c=t.dataset.uuid;t.querySelector(".".concat(o.imageOpTag)).innerText=n.tagName;for(var l=0;l<r.data.length;l++){var u=r.data[l],d=Object.assign({},u);if(u.tag===i&&u.uuid===c){u=s(s({},u),n),t.querySelector(".".concat(o.imageOpTag)).dataset.id=n.tag,t.querySelector(".".concat(o.imageOpTag)).dataset.name=n.tagName,r.config.onAnnoChanged(u,d),r.data[l]=u;break}}r.config.onUpdated(r.dataSource())}})),u(this,"updateMovementData",(function(){if(null!=r.currentMovement){for(var e=r.currentMovement.data,t=!1,n=0;n<r.data.length;n++){var o=r.data[n];if(o.tag===e.tag&&e.uuid===o.uuid){JSON.stringify(o)!=JSON.stringify(e)&&(r.data[n]=e,t=!0,r.config.onAnnoChanged(e,o));break}}t&&r.config.onUpdated(r.dataSource(),r.currentMovement)}})),d(this,N,{writable:!0,value:function(e){if(r.options.editable){var t=e.currentTarget.parentNode.parentNode.parentNode;r.removeAnnotation(t)}}}),u(this,"removeAnnotation",(function(e){if(e){for(var t,n,o=e.dataset.uuid,i=0;i<r.data.length;i++)if(t=r.data[i],t.uuid===o){r.config.onAnnoRemoved(t)&&r.data.splice(i,1);break}if(r.config.onUpdated(r.dataSource()),"function"===typeof e.remove)e.remove();else null===(n=e.parentNode)||void 0===n||n.removeChild(e)}})),u(this,"drawAnnotation",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(r.isValid(e)){r.removeSelectedAnnotation();var n=document.createElement("div");n.className="".concat(r.options.annotationClass," selected"),n.style.position="absolute",n.style.top=e.y,n.style.left=e.x,n.style.width=e.width,n.style.height=e.height;var c={top:"".concat(o.PREFIX_RESIZE_DOT," top"),bottom:"".concat(o.PREFIX_RESIZE_DOT," bottom"),left:"".concat(o.PREFIX_RESIZE_DOT," left"),right:"".concat(o.PREFIX_RESIZE_DOT," right"),topLeft:"".concat(o.PREFIX_RESIZE_DOT," top-left"),topRight:"".concat(o.PREFIX_RESIZE_DOT," top-right"),bottomLeft:"".concat(o.PREFIX_RESIZE_DOT," bottom-left"),bottomRight:"".concat(o.PREFIX_RESIZE_DOT," bottom-right"),trash:"g-image-op"},l=0;for(var u in"object"===a(t)&&(t=s(s({},i["default"].tagTemplate(t.tagName,t.tag,t.uuid)),t),console.log("💥💥💥💥💥💥💥",t.uuid)),c){var d=document.createElement("div");if(8===l){d.className="".concat(r.options.blurOtherDotsShowTags?"":"".concat(o.dotCls[l])," ").concat(c[u]);var f=document.createElement("div");f.className=o.imageOpContent,r.options.showTags?f.style.visibility="visible":f.style.visibility="collapse",r.options.tagLocation==o.defaultPositions.out_bottom?(f.style.position="absolute",f.style.bottom=null):f.style.position=null;var p=document.createElement("i");p.className="g-image-op-del iconfont s-icon icon-trash s-icon-trash",p.innerText=" × ",p.addEventListener("click",h(r,N),!0),r.options.closable?p.style.display="":p.style.display="none";var v=document.createElement("span");v.dataset.name=t.tagName,v.className="".concat(o.imageOpTag),v.innerText=t.tagName,v.dataset.id=t.tag,r.options.trashPositionStart?(f.appendChild(p),f.appendChild(v)):(f.appendChild(v),f.appendChild(p)),d.appendChild(f)}else d.className="".concat(c[u]," ").concat(o.dotCls[l]," ").concat(r.options.editable?"":"hidden");n.appendChild(d),l++}r.annotationContainer.appendChild(n),n.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=e.currentTarget,n=t.querySelector(".".concat(o.imageOpTag)).dataset,i=r.dataSourceOfTag(n.id,t.dataset.uuid);return r.config.onAnnoContextMenu(i,e.target,r),!0},r.currentMovement=new i["default"](n,0,h(r,m).call(r),r.options),r.currentMovement.updateData(s({},t)),r.currentMovement.fetchData(),r.data.push(r.currentMovement.data),r.setTagForCurrentMovement(r.currentMovement.data),r.config.onAnnoAdded(r.currentMovement.data,n)}})),u(this,"dispatchEventToAnno",(function(e){var t=e.type;if(t!==o.MOUSE_EVENT[6]){var n=e.clientX,i=e.clientY;if(e.targetTouches&&e.targetTouches.length>0){var a=e.targetTouches[0];n=a?a.clientX:void 0,i=a?a.clientY:void 0}if(v(r,_,n),v(r,E,i),t===o.MOUSE_EVENT[0]||t===o.TOUCH_EVENT[0])r.actionDown=!0,v(r,y,h(r,_)),v(r,w,h(r,E)),"function"===typeof h(r,O)&&h(r,O).call(r,!0),h(r,S).call(r,e);else if(t===o.MOUSE_EVENT[1]||t===o.MOUSE_EVENT[3]||t===o.MOUSE_EVENT[5]||t===o.TOUCH_EVENT[1]||t===o.TOUCH_EVENT[3]||t===o.TOUCH_EVENT[5]){if(null==r.currentMovement)return!0;if(r.actionDown){if(r.filterOutOfBounds(h(r,_),h(r,E)))return;r.currentMovement.transform(h(r,_)-h(r,y),h(r,E)-h(r,w)),v(r,y,h(r,_)),v(r,w,h(r,E))}}else"function"===typeof h(r,O)&&h(r,O).call(r,!1),r.actionDown&&(r.updateMovementData(),r.selectAnnotation()),r.actionDown=!1}else r.selectAnnotation()})),u(this,"removeSelectedAnnotation",(function(){if(r.currentMovement){var e=r.currentMovement.currentNode.classList;e.remove("selected"),r.options.blurOtherDots&&r.currentMovement.currentNode.querySelectorAll("[class*=".concat(o.PREFIX_RESIZE_DOT,"]")).forEach((function(e){e.classList.add("hidden")}))}})),u(this,"selectAnnotation",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(r.currentMovement){var t=r.currentMovement.currentNode.classList;if(t.add("selected"),r.options.blurOtherDots){if(!r.options.editable)return void r.currentMovement.currentNode.querySelectorAll("[class*=".concat(o.PREFIX_RESIZE_DOT,"]")).forEach((function(e){e.classList.contains(o.dotCls[8])?e.classList.remove("hidden"):e.classList.add("hidden")}));r.currentMovement.currentNode.querySelectorAll("[class*=".concat(o.PREFIX_RESIZE_DOT,"]")).forEach((function(e){e.classList.remove("hidden")}))}if(!e)return;var n=r.currentMovement.currentNode,i=s({},r.currentMovement.data);r.config.onAnnoSelected(i,n)}})),u(this,"selectMarkerByTagId",(function(e){var t=r.annotationContainer.querySelector('[data-id="'.concat(e,'"]'));if(t){var n=t.parentNode.parentNode.parentNode;r.removeSelectedAnnotation(),null==r.currentMovement&&(r.currentMovement=new i["default"](n,-1,h(r,m).call(r),r.options));var o=r.data.find((function(e){return e.uuid==n.dataset.uuid}));r.currentMovement.data=o,r.currentMovement.currentNode=n,r.currentMovement.boundRect=h(r,m).call(r),r.currentMovement.type=-1,r.selectAnnotation(!1)}})),d(this,S,{writable:!0,value:function(e){r.removeSelectedAnnotation();var t=e.target,n=t.classList.contains("annotation")?t:t.parentNode;null==r.currentMovement&&(r.currentMovement=new i["default"](n,0,h(r,m).call(r),r.options));var a=r.data.find((function(e){return e.uuid==n.dataset.uuid}));r.currentMovement.data=a,r.currentMovement.currentNode=n,v(r,T,!1),r.currentMovement.boundRect=h(r,m).call(r),t.classList.contains(o.dotCls[0])?r.currentMovement.type=0:t.classList.contains(o.dotCls[1])?r.currentMovement.type=1:t.classList.contains(o.dotCls[2])?r.currentMovement.type=2:t.classList.contains(o.dotCls[3])?r.currentMovement.type=3:t.classList.contains(o.dotCls[4])?r.currentMovement.type=4:t.classList.contains(o.dotCls[5])?r.currentMovement.type=5:t.classList.contains(o.dotCls[6])?r.currentMovement.type=6:t.classList.contains(o.dotCls[7])?r.currentMovement.type=7:t.classList.contains("annotation")?r.currentMovement.type=-1:v(r,T,!0)}}),u(this,"filterOutOfBounds",(function(e,t){return e>=h(r,m).call(r).x+h(r,m).call(r).width+2||t>=h(r,m).call(r).y+h(r,m).call(r).height+2||e<5||t<5})),this.options=s({},o.defaultConfig.options),this.config=s({},o.defaultConfig),v(this,O,f),this.annotationContainer=t,v(this,m,n),this.actionDown=!1,this.currentMovement=null,this.data=[];var p=this;this.delEvent=function(e){if(8===e.keyCode||46===e.keyCode){var t=p.currentMovement;t&&p.removeAnnotation(t.currentNode)}},this.setConfigOptions(c)};t["default"]=D},f321:function(e,t,n){"use strict";n("d3b7"),Array.prototype.forEach=Array.prototype.forEach||function(e){var t="[object Array]"==Object.prototype.toString.call(this);if(!t)throw TypeError;for(var n in this)"forEach"!=n&&e.call(this[n],n,this[n],this)}},f5ed:function(e,t,n){"use strict";n("ac1f"),n("1276"),n("a15b"),n("b680"),n("2ca0"),Object.defineProperty(t,"__esModule",{value:!0}),t.transformDataArray=t.positionP2S=t.percentToSize=t.UUID=t.dotCls=t.PREFIX_RESIZE_DOT=t.imageOpContent=t.imageOpTag=t.defaultConfig=t.defaultPositions=t.TOUCH_EVENT=t.MOUSE_EVENT=void 0;var o=["mousedown","mousemove","mouseend","mouseout","mouseup","mouseleave","contextmenu"];t.MOUSE_EVENT=o;var i=["touchstart","touchmove","touchend","touchcancel","touchup","touchleave"];t.TOUCH_EVENT=i;var r={bottom:1,out_bottom:2};t.defaultPositions=r;var a={options:{deviceType:"both",blurOtherDots:!1,blurOtherDotsShowTags:!1,editable:!0,showTags:!0,closable:!0,supportDelKey:!1,tagLocation:r.bottom,trashPositionStart:0,boundReachPercent:.01,textComponent:function(){},annotationClass:"annotation"},onAnnoContextMenu:function(e,t,n){},onAnnoRemoved:function(e,t){return!0},onAnnoAdded:function(e,t){},onAnnoChanged:function(e,t){},onAnnoDataFullLoaded:function(){},onAnnoSelected:function(e,t){},onUpdated:function(e,t){}};t.defaultConfig=a;var c="g-image-op-name";t.imageOpTag=c;var s="g-image-op-content";t.imageOpContent=s;var l="resize-dot";t.PREFIX_RESIZE_DOT=l;var u=["".concat(l,"-n"),"".concat(l,"-s"),"".concat(l,"-w"),"".concat(l,"-e"),"".concat(l,"-nw"),"".concat(l,"-ne"),"".concat(l,"-sw"),"".concat(l,"-se"),"".concat(l,"-tag-trash")];t.dotCls=u;var d=function(e,t){var n,o,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||i.length,e)for(n=0;n<e;n++)r[n]=i[0|Math.random()*t];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;n<36;n++)r[n]||(o=0|16*Math.random(),r[n]=i[19===n?3&o|8:o]);return r.join("")};t.UUID=d;var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(parseFloat(e).toFixed(3)*t/100)};t.percentToSize=f;var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:"0%",y:"0%",x1:"0%",y1:"0%"},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;for(var o in e)o.startsWith("x")?e[o]=f(e[o],t):e[o]=f(e[o],n);return e};t.positionP2S=h;var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<e.length;n++){var o=e[n];o.position=h(o.position,t)}return e};t.transformDataArray=p},f615:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="f615"}});
//# sourceMappingURL=app.850e62a9.js.map